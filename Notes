Collection extends Iterable

1)Collection interface is the root interface of ArrayList.
It is present in java.util package.
It is extended by other interfaces like List,Set,Queue
------------------------------------
2)List interface present in java.util package
extends Collection interface
implemented by classes like ArrayList,LinkedList,Vectors,Stack
---------------------------------
3)ArrayList:
Internal working
it is an array only.
//default capacity is 10
//before adding new element capacity is checked first
// if full, new array capacity is increased by 1.5
//elements are copied from older array to new array

--------------------------------
4)Comparator-interface
it is used for custom sorting
it compares two objects

----------------------------
5)LinkedList--class implements List interface
here remove or insert is easy then array list
slower random access ,since has to traverse the entire list
Memory overhead then array List
--------------------------
6)Vectors--legacy class present in java.util package
Vectors is a dynamic array class similar to ArrayList, but thread-safe (synchronized).
Resizable/Dynamic array	✔
Maintains order	✔
Allows duplicates	✔
Thread safe	✔ (synchronized)
Performance	Slow
Legacy class	✔ (old Java 1.0)

A legacy class is an old class kept only for backward compatibility.
It exists so that old Java programs still run,
but new programs should avoid using it.
Why Java keeps them
When Java improved collections (Java 1.2), new framework came:
Collection Framework
But many companies already used old classes → Java could not delete them.
So Java marked them legacy.

Synchronization means:
Only one thread at a time can access a shared resource (object / method / block)
It prevents data inconsistency (race condition) in multithreading.

--------------------------
7)Stacks--extends Vector
In  LIFO manner elements are accessed
it is thread safe
----------------------------
8)CopyOnWriteArrayList it is also thread safe
Instead of locking the list, it uses copy-on-write technique:
Whenever you modify the list → Java creates a new copy of the array and updates it.
So:
Readers → read old stable data (no lock)
Writers → modify a new copy
No data corruption ✔
-------------------------------------------------------------
9)Map does not extends Collection interface
Key value pair
Key-unique
HashMap class implements Map
Not thread safe
constant time performance for get ,put, contains
--------------------------------------------------------------
10)Internal Structure of HashMap
key,value
bucket--place where key value are stored
hash function--converts a key to  (hash code/hash value)
from hashcode index would be created
at that index key value pair would be stored
for same input , same output

Storing of an element
key---hash_function---hashcode
index=hashcode%array_size;
at an index multiple key value can be stored
Collision --different input same index
each element of an array is linkedListNode

to avoid multiple collisions-- At an  index elements are exceeding a particular threshold, to avoid this,
by default threshold is 8.
From Java 8, red black trees were introduced instead of Linked List
searching takes O(logn) --self balancing binary search trees
after threshold tree is formed from LinkedList

array  default size is 16
load factor=0.75
so if number of elements > 12(16*0.75) new array is created(doubled) rehashing is done


Retrieves the data
hm.get(key_value)
key is hashed using hash_function
at the index , key is to be find


object class has two methods
hashcode(),equals()

Time complexity : Avg, Worst
put()---O(1)  , O(logn)
get()---O(1)  , O(logn)
remove()---O(1)  , O(logn)
containsKey()---O(1)  , O(logn)
containsValue()---O(n)  , O(n)
size()---O(1)  , O(1)


----------------------------
11)LinkedHashMap
extends HashMap
order is maintained
contains double linked list
slower than HashMap
memory occupy is also more
not thread safe


13)Garbage Collection
Fruit fr=new Fruit("Apple",30);
System.out.println(fr.name +":"+fr.price);

fr=null;
since object created has not any reference  now ,JVM will put this object in garbage
and memory would be freed

12)WeakHashMap
implements Map
see notes-2(4)

13)Comparable


TreeMap implements NavigableMap--->extends--->SortedMap--->extends---->Map
14)SortedMap-
it is an interface extends Map that sort the keys in natural ordering or using Comparator


15)TreeMap
it is self balancing binary search tree
it implements Navigable Map , which extends SortedMap

16)Navigable Map extends SortedMap
used for closest entries

17)HashTable was in jdk 1.0 implements Map
it is thread safe
no null --key or value
legacy class , replaced by ConcurrentHashMap
only linked list in case of collision
all methods are synchronized
even for read threads so we came up with Concurrent HashMap


18)ConcurrentHashMap
implements Concurrent Map which extends Map
for concurrency in hash map use this
Concurrency = many threads working on the same resource simultaneously without breaking data

19)ConcurrentSkipListMap
data is stored in data structure skip list
data is stored in sorted manner and in synchronized way

what is skip list
similar to sorted linked list , having multiple layers to skip over portions of the list to provide faster
access to elements

layers or levels
1,2,3,4,5,6,7,8,9


level3:1--->5---->9
level2:1-->3--->5--->7-->9
level1:1->2->2->3->4->5->6->7->8->9
Tc --O(n) for searching
searching begins from level 3
that is why it is termed as probabilistic data structure
in this map key value pair are stored in skip list data structure

20)Enum Map  implements Map interface
21)Immutable Map--its content cannot be changed

22)Set
23)CopyOnWriteArraySet --for frequent read operations it is used


24)Queue--it is an interface
implemented by LinkedList,PriorityQueue,ArrayBlockingQueue

25)PriorityQueue--class which implements Queue
26)DoubleEndedQueue
27)BlockingQueue an interface implemented by ArrayBlockingQueue--it is thread safe, wait to become non empty or some space
or wait to become empty or some space
simplifies concurrency
in standard queue operations are executed immediately

28)linkedBlockingQueue
29)SynchronousQueue
30)Delay Queue
Blocking queue is used for multi threads

31)ConcurrentLinkedQueue--supports lock free thread safe operations
put , put can work concurrently

32)ConcurrentLinkedDequeue--


33)Iterator




toString method is implemented by Object class.
other classes can overwrite it



